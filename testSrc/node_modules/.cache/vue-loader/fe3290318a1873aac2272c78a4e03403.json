{"remainingRequest":"/Users/erin/project/hello-world/testSrc/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/erin/project/hello-world/testSrc/src/components/mapDrag.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/erin/project/hello-world/testSrc/src/components/mapDrag.vue","mtime":1616080467873},{"path":"/Users/erin/project/hello-world/testSrc/node_modules/cache-loader/dist/cjs.js","mtime":1611492586366},{"path":"/Users/erin/project/hello-world/testSrc/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/erin/project/hello-world/testSrc/node_modules/cache-loader/dist/cjs.js","mtime":1611492586366},{"path":"/Users/erin/project/hello-world/testSrc/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport remoteLoad from '@/utils/remoteLoad.js'\nimport { MapKey, MapCityName } from '@/config/config'\nimport testData from  '@/mock.js'\nimport dialog from \"../utils/dialog\";\n\nexport default {\n  props: ['lat', 'lng'],\n  data () {\n    return {\n      searchKey: '',\n      placeSearch: null,\n      dragStatus: false,\n      AMapUI: null,\n      AMap: null,\n      startY:0,\n      isBottom:true,\n      lang: 'zh-CN'\n    }\n  },\n  watch: {\n    searchKey () {\n      if (this.searchKey === '') {\n        this.placeSearch.clear()\n      }\n    }\n  },\n  mounted(){\n\n  },\n  methods: {\n    setLang(lang){\n      this.$common.setLang(lang);\n      this.$forceUpdate();\n    },\n\n    ConvertDegreesToRadians(degrees){\n      return degrees * Math.PI / 180;\n    },\n\n    ConvertRadiansToDegrees(radian){\n      return radian * 180.0 / Math.PI;\n    },\n\n    HaverSin(theta){\n      let v = Math.sin(theta / 2);\n      return v*v\n    },\n\n    getDistance(latitude1,longitude1,latitude,longitude){\n      let app = this;\n      let lat1 = app.ConvertDegreesToRadians(latitude1),\n              lon1 = app.ConvertDegreesToRadians(longitude1),\n              lat2 = app.ConvertDegreesToRadians(latitude),\n              lon2 = app.ConvertDegreesToRadians(longitude),\n              vLon = Math.abs(lon1 - lon2),\n              vLat = Math.abs(lat1 - lat2),\n              h = app.HaverSin(vLat) + Math.cos(lat1) * Math.cos(lat2) * app.HaverSin(vLon);\n      return Math.round(12742 * Math.asin(Math.sqrt(h)) * 1000);\n    },\n    testDialog(){\n      let d =this.getDistance1(40.22077,116.23128,34.23053,108.93425)\n      console.log(99999,d)\n      let dialog = this.$common.dialog1,app=this;\n      let imgSrc = require('../assets/img/map.png');\n      dialog.open({\n        // type:\"tip\",\n        title : '',\n        hideCloseBtn:this.show,\n        content : '<div @click=\"test\">暂时部署不足hiuhiuhohggygilo;<br></div>',\n        data :{\n          imgSrc:imgSrc,\n          show: true\n        },\n        methods:{\n          test(){\n            console.log(12,this);\n            this.show = false;\n            // this.parent.close();\n\n          }\n        },\n        isFull: true,\n        btns : [\n          {\n            value : '取消',\n            action(obj){\n              dialog.close();\n            }\n          }\n        ]\n      })\n    },\n    // 搜索\n    handleSearch () {\n      if (this.searchKey) {\n        this.placeSearch.search(this.searchKey)\n      }\n    },\n\n    // 根据经纬度计算距离，参数分别为第一点的纬度，经度；第二点的纬度，经度\n    getDistance1(lat1, lng1, lat2, lng2) {\n      function rad(degrees) {\n        return degrees * Math.PI / 180;\n      };\n      var radLat1 = rad(lat1);\n      var radLat2 = rad(lat2);\n      var a = radLat1 - radLat2;\n      var b = rad(lng1) - rad(lng2);\n      var s = 2 * Math.asin(Math.sqrt(Math.pow(Math.sin(a / 2), 2) +\n              Math.cos(radLat1) * Math.cos(radLat2) * Math.pow(Math.sin(b / 2), 2)));\n      s = s * 6378.137; // EARTH_RADIUS;\n      s = Math.round(s * 10000) / 10000; //输出为公里\n\n      var distance = s;\n      var distance_str = \"\";\n\n      if (parseInt(distance) >= 1) {\n        distance_str = distance.toFixed(1) + \"km\";\n      } else {\n        distance_str = distance * 1000 + \"m\";\n      }\n\n      //s=s.toFixed(4);\n\n      console.info('lyj 距离是', s);\n      console.info('lyj 距离是', distance_str);\n      return s;\n    },\n\n    initMap(){\n      let AMapUI = this.AMapUI = window.AMapUI\n      let AMap = this.AMap = window.AMap;\n      var map = new AMap.Map('container', {\n        zoom: 9\n      });\n      AMapUI.loadUI(['misc/MarkerList', 'overlay/SimpleMarker', 'overlay/SimpleInfoWindow'], function(MarkerList) {\n        //启动页面\n        initPage(MarkerList);\n      });\n      function initPage(MarkerList) {\n        //创建一个实例\n        var markerList = new MarkerList({\n          map: map, //关联的map对象\n          listContainer: document.getElementById(\"myList\"), //列表的dom容器的节点或者id, 用于放置getListElement返回的内容\n          getDataId: function(dataItem, index) {\n            //返回数据项的Id\n            return dataItem.id;\n          },\n          getPosition: function(dataItem) {\n            //返回数据项的经纬度，AMap.LngLat实例或者经纬度数组\n            return dataItem.position;\n          },\n          getMarker: function(dataItem, context, recycledMarker) {\n            var content = '标注: ' + (context.index + 1) + '',\n                    label = {\n                      offset: new AMap.Pixel(16, 18),\n                      content: content\n                    };\n            if (recycledMarker) {\n              //存在可回收利用的marker,直接setLabel返回\n              recycledMarker.setLabel(label);\n              return recycledMarker;\n            }\n            //返回一个新的Marker\n            return new AMap.Marker({\n              label: label\n            });\n          },\n          getInfoWindow: function(dataItem, context, recycledInfoWindow) {\n            var tpl = '<p><%- dataItem.id %>：<%- dataItem.desc %><p>';\n            //MarkerList.utils.template支持underscore语法的模板\n            var content = MarkerList.utils.template(tpl, {\n              dataItem: dataItem,\n              dataIndex: context.index\n            });\n            if (recycledInfoWindow) {\n              //存在可回收利用的infoWindow, 直接setContent返回\n              recycledInfoWindow.setContent(content);\n              return recycledInfoWindow;\n            }\n            //返回一个新的InfoWindow\n            return new AMap.InfoWindow({\n              offset: new AMap.Pixel(0, -23),\n              content: content\n            });\n          },\n          getListElement: function(dataItem, context, recycledListElement) {\n            var tpl = '<p><%- dataItem.id %>：<%- dataItem.desc %><p>';\n            var content = MarkerList.utils.template(tpl, {\n              dataItem: dataItem,\n              dataIndex: context.index\n            });\n            if (recycledListElement) {\n              //存在可回收利用的listElement, 直接更新内容返回\n              recycledListElement.innerHTML = content;\n              return recycledListElement;\n            }\n            //返回一段html，MarkerList将利用此html构建一个新的dom节点\n            return '<li>' + content + '</li>';\n          }\n        });\n        //监听选中改变\n        markerList.on('selectedChanged', function(event, info) {});\n\n        //监听Marker和ListElement上的点击，详见markerEvents，listElementEvents\n        markerList.on('markerClick listElementClick', function(event, record) {});\n\n        //构建数据源，数据项本身没有格式要求，但需要支持getDataId和getPosition\n        var data = [{\n          id: 'A',\n          position: [116.020764, 39.904989],\n          desc: '数据_1'\n        },\n          {\n            id: 'B',\n            position: [116.405285, 39.904989],\n            desc: '数据_2'\n          },\n          {\n            id: 'C',\n            position: [116.789806, 39.904989],\n            desc: '数据_3'\n          }];\n        //绘制数据源，Let's go!\n        markerList.render(data);\n\n        //清除数据\n        //markerList.render([]);\n\n      }\n    },\n    // 实例化地图\n    initMap1 () {\n      let dialog = this.$common.dialog1, data={name:''};\n      //dialog.loading();\n      // 加载PositionPicker，loadUI的路径参数为模块名中 'ui/' 之后的部分\n      let AMapUI = this.AMapUI = window.AMapUI\n      let AMap = this.AMap = window.AMap\n      AMapUI.loadUI(['misc/PositionPicker'], PositionPicker => {\n        dialog.close();\n        let mapConfig = {\n          zoom: 16,\n          cityName: MapCityName,\n          lang: \"en\",\n        }\n        if (this.lat && this.lng) {\n          mapConfig.center = [this.lng, this.lat]\n        }\n        let map = new AMap.Map('js-container', mapConfig)\n        // 加载地图搜索插件\n        AMap.service('AMap.PlaceSearch', () => {\n          this.placeSearch = new AMap.PlaceSearch({\n            pageSize: 5,\n            pageIndex: 1,\n            citylimit: true,\n            city: MapCityName,\n            map: map,\n            panel: 'js-result',\n\n          })\n        })\n\n        // 启用工具条\n        // AMap.plugin(['AMap.ToolBar'], function () {\n        //   map.addControl(new AMap.ToolBar({\n        //     position: 'RB'\n        //   }))\n        // })\n        // 创建地图拖拽\n        let positionPicker = new PositionPicker({\n          mode: 'dragMarker', // 设定为拖拽地图模式，可选'dragMap'、'dragMarker'，默认为'dragMap'\n          map: map // 依赖地图对象\n        })\n        // 拖拽完成发送自定义 drag 事件\n        positionPicker.on('success', positionResult => {\n          // 过滤掉初始化地图后的第一次默认拖放\n          if (!this.dragStatus) {\n            this.dragStatus = true\n          } else {\n            this.$emit('drag', positionResult);\n            console.log(positionResult)\n          }\n        })\n        // 启动拖放\n        positionPicker.start();\n\n\n      })\n    }\n  },\n  async created () {\n    // 已载入高德地图API，则直接初始化地图\n\n    // if (window.AMap && window.AMapUI) {\n    //   this.initMap()\n    //   // 未载入高德地图API，则先载入API再初始化\n    // } else {\n    //   await remoteLoad(`http://webapi.amap.com/maps?v=1.3&key=${MapKey}`)\n    //   await remoteLoad('http://webapi.amap.com/ui/1.0/main.js')\n    //   this.initMap()\n    // }\n  }\n}\n",{"version":3,"sources":["mapDrag.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA2CA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"mapDrag.vue","sourceRoot":"src/components","sourcesContent":["<!--\n  描述：拖放地图组件，默认尺寸是 500 * 300\n\n  接收属性参数：\n    lat: 纬度\n    lng: 经度\n\n  自定义事件：\n    drag: 拖放完成事件\n\n  示例：\n    <mapDrag @drag=\"dragMap\" lat=\"22.574405\" lng=\"114.095388\"></mapDrag>\n-->\n<template>\n  <div>\n    <!--    <div class=\"m-map\">-->\n    <!--      <div id=\"js-container\" class=\"map\">-->\n    <!--        正在加载数据 ...-->\n    <!--      </div>-->\n\n    <!--    </div>-->\n\n\n    <div class=\"input_card\" >\n      测试ing\n      毛玻璃效果\n      <div  @click=\"testDialog\">测试dialog</div>\n      <div>{{$lang('userName')}}-2</div>\n      <div>{{$lang('message')}}</div>----{{$t('status')}}\n    </div>\n\n    <div id=\"outer-box\">\n      <div id=\"container\" tabindex=\"0\"></div>\n      <div id=\"panel\" class=\"scrollbar1\">\n        <ul id=\"myList\">\n        </ul>\n      </div>\n    </div>\n    <!--    <div class=\"input_card1\" ref=\"card\"  @touchstart=\"touchstart\" @touchend=\"touchend\" :class=\"{'top_location':!isBottom}\"></div>-->\n  </div>\n</template>\n\n<script>\n  import remoteLoad from '@/utils/remoteLoad.js'\n  import { MapKey, MapCityName } from '@/config/config'\n  import testData from  '@/mock.js'\n  import dialog from \"../utils/dialog\";\n\n  export default {\n    props: ['lat', 'lng'],\n    data () {\n      return {\n        searchKey: '',\n        placeSearch: null,\n        dragStatus: false,\n        AMapUI: null,\n        AMap: null,\n        startY:0,\n        isBottom:true,\n        lang: 'zh-CN'\n      }\n    },\n    watch: {\n      searchKey () {\n        if (this.searchKey === '') {\n          this.placeSearch.clear()\n        }\n      }\n    },\n    mounted(){\n\n    },\n    methods: {\n      setLang(lang){\n        this.$common.setLang(lang);\n        this.$forceUpdate();\n      },\n\n      ConvertDegreesToRadians(degrees){\n        return degrees * Math.PI / 180;\n      },\n\n      ConvertRadiansToDegrees(radian){\n        return radian * 180.0 / Math.PI;\n      },\n\n      HaverSin(theta){\n        let v = Math.sin(theta / 2);\n        return v*v\n      },\n\n      getDistance(latitude1,longitude1,latitude,longitude){\n        let app = this;\n        let lat1 = app.ConvertDegreesToRadians(latitude1),\n                lon1 = app.ConvertDegreesToRadians(longitude1),\n                lat2 = app.ConvertDegreesToRadians(latitude),\n                lon2 = app.ConvertDegreesToRadians(longitude),\n                vLon = Math.abs(lon1 - lon2),\n                vLat = Math.abs(lat1 - lat2),\n                h = app.HaverSin(vLat) + Math.cos(lat1) * Math.cos(lat2) * app.HaverSin(vLon);\n        return Math.round(12742 * Math.asin(Math.sqrt(h)) * 1000);\n      },\n      testDialog(){\n        let d =this.getDistance1(40.22077,116.23128,34.23053,108.93425)\n        console.log(99999,d)\n        let dialog = this.$common.dialog1,app=this;\n        let imgSrc = require('../assets/img/map.png');\n        dialog.open({\n          // type:\"tip\",\n          title : '',\n          hideCloseBtn:this.show,\n          content : '<div @click=\"test\">暂时部署不足hiuhiuhohggygilo;<br></div>',\n          data :{\n            imgSrc:imgSrc,\n            show: true\n          },\n          methods:{\n            test(){\n              console.log(12,this);\n              this.show = false;\n              // this.parent.close();\n\n            }\n          },\n          isFull: true,\n          btns : [\n            {\n              value : '取消',\n              action(obj){\n                dialog.close();\n              }\n            }\n          ]\n        })\n      },\n      // 搜索\n      handleSearch () {\n        if (this.searchKey) {\n          this.placeSearch.search(this.searchKey)\n        }\n      },\n\n      // 根据经纬度计算距离，参数分别为第一点的纬度，经度；第二点的纬度，经度\n      getDistance1(lat1, lng1, lat2, lng2) {\n        function rad(degrees) {\n          return degrees * Math.PI / 180;\n        };\n        var radLat1 = rad(lat1);\n        var radLat2 = rad(lat2);\n        var a = radLat1 - radLat2;\n        var b = rad(lng1) - rad(lng2);\n        var s = 2 * Math.asin(Math.sqrt(Math.pow(Math.sin(a / 2), 2) +\n                Math.cos(radLat1) * Math.cos(radLat2) * Math.pow(Math.sin(b / 2), 2)));\n        s = s * 6378.137; // EARTH_RADIUS;\n        s = Math.round(s * 10000) / 10000; //输出为公里\n\n        var distance = s;\n        var distance_str = \"\";\n\n        if (parseInt(distance) >= 1) {\n          distance_str = distance.toFixed(1) + \"km\";\n        } else {\n          distance_str = distance * 1000 + \"m\";\n        }\n\n        //s=s.toFixed(4);\n\n        console.info('lyj 距离是', s);\n        console.info('lyj 距离是', distance_str);\n        return s;\n      },\n\n      initMap(){\n        let AMapUI = this.AMapUI = window.AMapUI\n        let AMap = this.AMap = window.AMap;\n        var map = new AMap.Map('container', {\n          zoom: 9\n        });\n        AMapUI.loadUI(['misc/MarkerList', 'overlay/SimpleMarker', 'overlay/SimpleInfoWindow'], function(MarkerList) {\n          //启动页面\n          initPage(MarkerList);\n        });\n        function initPage(MarkerList) {\n          //创建一个实例\n          var markerList = new MarkerList({\n            map: map, //关联的map对象\n            listContainer: document.getElementById(\"myList\"), //列表的dom容器的节点或者id, 用于放置getListElement返回的内容\n            getDataId: function(dataItem, index) {\n              //返回数据项的Id\n              return dataItem.id;\n            },\n            getPosition: function(dataItem) {\n              //返回数据项的经纬度，AMap.LngLat实例或者经纬度数组\n              return dataItem.position;\n            },\n            getMarker: function(dataItem, context, recycledMarker) {\n              var content = '标注: ' + (context.index + 1) + '',\n                      label = {\n                        offset: new AMap.Pixel(16, 18),\n                        content: content\n                      };\n              if (recycledMarker) {\n                //存在可回收利用的marker,直接setLabel返回\n                recycledMarker.setLabel(label);\n                return recycledMarker;\n              }\n              //返回一个新的Marker\n              return new AMap.Marker({\n                label: label\n              });\n            },\n            getInfoWindow: function(dataItem, context, recycledInfoWindow) {\n              var tpl = '<p><%- dataItem.id %>：<%- dataItem.desc %><p>';\n              //MarkerList.utils.template支持underscore语法的模板\n              var content = MarkerList.utils.template(tpl, {\n                dataItem: dataItem,\n                dataIndex: context.index\n              });\n              if (recycledInfoWindow) {\n                //存在可回收利用的infoWindow, 直接setContent返回\n                recycledInfoWindow.setContent(content);\n                return recycledInfoWindow;\n              }\n              //返回一个新的InfoWindow\n              return new AMap.InfoWindow({\n                offset: new AMap.Pixel(0, -23),\n                content: content\n              });\n            },\n            getListElement: function(dataItem, context, recycledListElement) {\n              var tpl = '<p><%- dataItem.id %>：<%- dataItem.desc %><p>';\n              var content = MarkerList.utils.template(tpl, {\n                dataItem: dataItem,\n                dataIndex: context.index\n              });\n              if (recycledListElement) {\n                //存在可回收利用的listElement, 直接更新内容返回\n                recycledListElement.innerHTML = content;\n                return recycledListElement;\n              }\n              //返回一段html，MarkerList将利用此html构建一个新的dom节点\n              return '<li>' + content + '</li>';\n            }\n          });\n          //监听选中改变\n          markerList.on('selectedChanged', function(event, info) {});\n\n          //监听Marker和ListElement上的点击，详见markerEvents，listElementEvents\n          markerList.on('markerClick listElementClick', function(event, record) {});\n\n          //构建数据源，数据项本身没有格式要求，但需要支持getDataId和getPosition\n          var data = [{\n            id: 'A',\n            position: [116.020764, 39.904989],\n            desc: '数据_1'\n          },\n            {\n              id: 'B',\n              position: [116.405285, 39.904989],\n              desc: '数据_2'\n            },\n            {\n              id: 'C',\n              position: [116.789806, 39.904989],\n              desc: '数据_3'\n            }];\n          //绘制数据源，Let's go!\n          markerList.render(data);\n\n          //清除数据\n          //markerList.render([]);\n\n        }\n      },\n      // 实例化地图\n      initMap1 () {\n        let dialog = this.$common.dialog1, data={name:''};\n        //dialog.loading();\n        // 加载PositionPicker，loadUI的路径参数为模块名中 'ui/' 之后的部分\n        let AMapUI = this.AMapUI = window.AMapUI\n        let AMap = this.AMap = window.AMap\n        AMapUI.loadUI(['misc/PositionPicker'], PositionPicker => {\n          dialog.close();\n          let mapConfig = {\n            zoom: 16,\n            cityName: MapCityName,\n            lang: \"en\",\n          }\n          if (this.lat && this.lng) {\n            mapConfig.center = [this.lng, this.lat]\n          }\n          let map = new AMap.Map('js-container', mapConfig)\n          // 加载地图搜索插件\n          AMap.service('AMap.PlaceSearch', () => {\n            this.placeSearch = new AMap.PlaceSearch({\n              pageSize: 5,\n              pageIndex: 1,\n              citylimit: true,\n              city: MapCityName,\n              map: map,\n              panel: 'js-result',\n\n            })\n          })\n\n          // 启用工具条\n          // AMap.plugin(['AMap.ToolBar'], function () {\n          //   map.addControl(new AMap.ToolBar({\n          //     position: 'RB'\n          //   }))\n          // })\n          // 创建地图拖拽\n          let positionPicker = new PositionPicker({\n            mode: 'dragMarker', // 设定为拖拽地图模式，可选'dragMap'、'dragMarker'，默认为'dragMap'\n            map: map // 依赖地图对象\n          })\n          // 拖拽完成发送自定义 drag 事件\n          positionPicker.on('success', positionResult => {\n            // 过滤掉初始化地图后的第一次默认拖放\n            if (!this.dragStatus) {\n              this.dragStatus = true\n            } else {\n              this.$emit('drag', positionResult);\n              console.log(positionResult)\n            }\n          })\n          // 启动拖放\n          positionPicker.start();\n\n\n        })\n      }\n    },\n    async created () {\n      // 已载入高德地图API，则直接初始化地图\n\n      // if (window.AMap && window.AMapUI) {\n      //   this.initMap()\n      //   // 未载入高德地图API，则先载入API再初始化\n      // } else {\n      //   await remoteLoad(`http://webapi.amap.com/maps?v=1.3&key=${MapKey}`)\n      //   await remoteLoad('http://webapi.amap.com/ui/1.0/main.js')\n      //   this.initMap()\n      // }\n    }\n  }\n</script>\n<style lang=\"less\">\n  .shareImg{\n    position: absolute;\n    top: 120%;\n    >img{\n      height: 30px;\n      width: 100px;\n    }\n  }\n  .testImg{\n    background-color:rebeccapurple;\n    width: 300px;\n    height: 200px;\n    .btns .btnBorder{\n      color: #67c23a;\n    }\n    .bt{\n      position: absolute;\n      bottom: 0;\n    }\n  }\n</style>\n<style lang=\"less\" scoped>\n  #container{\n    height:100%;\n    width:100%;\n  }\n  .amap-icon img{\n    width: 25px;\n    height: 34px;\n  }\n  @import \"../assets/css/var.less\";\n  .m-map{\n    height: 100vh;\n    width: 100vh;\n    .map{\n      width: 100vh;\n      height: 100vh;\n    }\n\n  }\n  .input_card{\n    position: absolute;\n    background-color: white;\n    filter: opacity(0.8);\n    height: 40vh;\n    width: 100vh;\n    bottom: 0;\n    border-radius: 20px 20px 0 0;\n    z-index: 9999;\n    font-weight: bold;\n    .duration();\n\n  }\n  .top_location{\n    top: 10px;\n    height: 100%;\n  }\n  .input_card1{\n    position: absolute;\n    height: 40vh;\n    width: 100vh;\n    bottom: 0;\n    border-radius: 20px 20px 0 0;\n    z-index: 998;\n    .blur(3px);\n  }\n</style>\n"]}]}